#!/bin/sh

function cecho { echo -e "\e[34m$*\e[m"; }

echo "(*'-') < Start install the dotfiles"

###
# Vim Setup
###

cecho "Starting Vim setup"

# backup the vim files
cp ~/.vimrc ~/.vimrc.backup

# make the vim files
cp `pwd`/vim/vimrc ~/.vimrc

###
# Git Setup
###

cecho "Starting Git setup"

# backup the git files
cp ~/.gitconfig       ~/.gitconfig.backup
cp ~/.gitconfig_local ~/.gitconfig_local.backup
cp ~/.gitignore       ~/.gitignore.backup

# make the git files
rm ~/.gitignore && cp `pwd`/gitfiles/gitignore ~/.gitignore
rm ~/.gitconfig && cp `pwd`/gitfiles/gitconfig ~/.gitconfig

# make original gitconfig_local file
GIT_NAME=""
GIT_MAIL=""
cecho "Please enter your GitHub name"
read GIT_NAME
cecho "Please enter your GitHub e-mail address"
read GIT_MAIL

rm ~/.gitconfig_local && \
  sed s/{git_login_name}/${GIT_NAME}/g    `pwd`/gitfiles/gitconfig_local | \
  sed s/{git_email_address}/${GIT_MAIL}/g `pwd`/gitfiles/gitconfig_local   \
  > ~/.gitconfig_local

###
# Zsh Setup
###

# include alias.zsh
cecho "Starting zsh setup"

# backup the zsh files
cp ~/.zshrc  ~/.zshrc.backup
cp ~/.zshenv ~/.zshenv.backup

###
# tmux Setup
###

cecho "Startging tmux setup"

# backup .tmux.conf
cp ~/.tmux.conf ~/.tmux.conf.backup

# cp tmux.conf
cp /tmux/tmux.conf ~/.tmux.conf

cecho "Installation is completed"
